<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

	<package name="Authorization" namespace="/" extends="default">
		<result-types>
			<result-type name="tiles"
				class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>

		<action name="authorization_auto"
			class="com.cubesofttech.action.LoginAction" method="autologin">
			<result name="success" type="redirectAction">check_in?userId=${onlineUser.id}
			</result>
			<result name="error">/index.jsp</result>
			<result name="input" type="redirectAction">check_in?userId=${onlineUser.id}
			</result>
		</action>
		
		<action name="authorization"
			class="com.cubesofttech.action.LoginAction" method="login">
			<result name="success" type="tiles" >page.blank</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="logout"
			class="com.cubesofttech.action.LoginAction" method="logout">
			<result name="success">/index.jsp</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="forgetPassword"
			class="com.cubesofttech.action.LoginAction" method="forgetPassword">
			<result name="success">/index.jsp</result>
			<result name="error">/index.jsp</result>
			<result name="input">/index.jsp</result>
		</action>
		<action name="resetPassword"
			class="com.cubesofttech.action.LoginAction" method="resetPassword">
			<result name="success">/index.jsp</result>
			<result name="error">/resetpassword.jsp?email=${email}</result>
		</action>
	</package>

	<package name="UserAction" namespace="/"
		extends="default, json-default">
		<result-types>
			<result-type name="tiles"
				class="org.apache.struts2.views.tiles.TilesResult" />
		</result-types>


		<action name="user-list"
			class="com.cubesofttech.action.UserAction" method="list">
			<result name="success" type="tiles">user.list</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="user-edit"
			class="com.cubesofttech.action.UserAction" method="openEdit">
			<result name="success" type="tiles">admin_edit_userprofile</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="user-add"
			class="com.cubesofttech.action.UserAction" method="open">
			<result name="success" type="tiles">user.add</result>
			<result name="error">/index.jsp</result>
		</action>
		

		<!-- Test json -->
		<action name="time_list"
			class="com.cubesofttech.action.TimesheetAction" method="timeList">
			<result name="success">/pages-back/common/json.jsp</result>
			<result name="error">/index.jsp</result>
		</action>
		<!-- json -->
		
		
		<!-- Role -->
		<action name="role-list"
			class="com.cubesofttech.action.RoleAction" method="list">
			<result name="success" type="tiles">role.list</result>
			<result name="error">/index.jsp</result>
		</action>
		<action name="role-edit"
			class="com.cubesofttech.action.RoleAction" method="openEdit">
			<result name="success" type="tiles">role.edit</result>
			<result name="error">/index.jsp</result>
		</action>
		<!-- เพิ่ม function add -->
		<action name="role-add"
			class="com.cubesofttech.action.RoleAction" method="openEdit2">
			<result name="success" type="tiles">role.add</result>
			<result name="error">/index.jsp</result>
		</action>

		<!-- เพิ่ม function add -->
		<action name="role-perform-add"
			class="com.cubesofttech.action.RoleAction" method="performAdd">
			<result name="success" type="redirectAction">role-edit?roleId=${roleId}
			</result>
			<result name="error">/index.jsp</result>
		</action>

		<!-- เพิ่ม function add -->
		<action name="role-perform-edit-*"
			class="com.cubesofttech.action.RoleAction" method="performEdit">
			<result name="success" type="redirectAction">role-edit?roleId=${roleId}
			</result>
			<result name="error">/index.jsp</result>
		</action>

		<!-- function delete -->
		<action name="role-delete"
			class="com.cubesofttech.action.RoleAction" method="deleteRole">
			<result name="success" type="chain">role-list</result> <!-- type = "chain" เป้นการส่งให้ชื่อ Action นั้นทำงาน -->
			<result name="error">/index.jsp</result>
		</action>
		
		<!-- Holiday -->

		<action name="holiday_list"
			class="com.cubesofttech.action.HolidayAction" method="List">
			<result name="success" type="tiles">holiday_newlist</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="holiday_charts"
			class="com.cubesofttech.action.GraphAction" method="holidayCharts">
			<result name="success" type="tiles">holiday_charts</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="holiday_charts_search"
			class="com.cubesofttech.action.GraphAction"
			method="holidayChartsSearch">
			<result name="success" type="tiles">holiday_charts</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="holiday_add"
			class="com.cubesofttech.action.HolidayAction" method="formadd">
			<result name="success" type="tiles">holiday_add </result> <!-- Definition หน้า JSP -->
			<result name="error">/index.jsp</result>
		</action>

		<action name="holiday_calendar"
			class="com.cubesofttech.action.HolidayAction" method="List1">
			<result name="success" type="tiles">holiday_calendar</result> <!-- Definition หน้า JSP -->
			<result name="error">/index.jsp</result>
		</action>

		<action name="holiday_findnextYear"
			class="com.cubesofttech.action.HolidayAction" method="findnext_year">
			<result name="success" type="tiles">holiday_calendar</result> <!-- Definition หน้า JSP -->
			<result name="error">/index.jsp</result>
		</action>

		<action name="AddHoliday"
			class="com.cubesofttech.action.HolidayAction" method="Add">
			<result name="success" type="chain">holiday_list2</result> <!-- type = "chain" เป้นการส่งให้ชื่อ Action นั่นทำงาน -->
			<result name="error" type="tiles">holiday_add</result>
			<result name="input" type="tiles">holiday_add</result>
			<result name="login" type="chain">holiday_calendar</result>
		</action>

		<action name="holiday_edit"
			class="com.cubesofttech.action.HolidayAction" method="Edit">
			<result name="success" type="tiles">holiday_edit </result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="holiday_edit_calendar"
			class="com.cubesofttech.action.HolidayAction" method="Edit">
			<result name="success" type="tiles">holiday_edit </result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="UpdateHoliday"
			class="com.cubesofttech.action.HolidayAction" method="Update">
			<result name="success" type="chain">holiday_list2</result> <!-- type = "chain" เป้นการส่งให้ชื่อ Action นั่นทำงาน -->
			<result name="error">/index.jsp</result>
			<result name="input" type="tiles">holiday_edit</result>
			<result name="login" type="chain">holiday_calendar</result>
		</action>

		<action name="UpdateHoliday_calendar"
			class="com.cubesofttech.action.HolidayAction"
			method="Update_calendar">
			<result name="success" type="chain">holiday_calendar</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="UpdateMoving_calendar"
			class="com.cubesofttech.action.HolidayAction"
			method="moving_calendar">
			<result name="success" type="chain">holiday_calendar</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="DeleteHoliday_calendar"
			class="com.cubesofttech.action.HolidayAction"
			method="Delete_calendar">
			<result name="success" type="chain">holiday_calendar</result> <!-- type = "chain" เป้นการส่งให้ชื่อ Action นั่นทำงาน -->
			<result name="error">/index.jsp</result>
		</action>

		<action name="DeleteHoliday"
			class="com.cubesofttech.action.HolidayAction" method="Delete">
			<result name="success" type="chain">holiday_list2</result> <!-- type = "chain" เป้นการส่งให้ชื่อ Action นั่นทำงาน -->
			<result name="error">/index.jsp</result>
			<result name="login" type="chain">holiday_calendar</result>
		</action>

		<action name="SearchHoliday"
			class="com.cubesofttech.action.HolidayAction" method="searchtable">
			<result name="success" type="tiles">holiday_newlist</result>
			<result name="error">/index.jsp</result>
		</action>

<!-- Position -->
		<action name="position_list"
			class="com.cubesofttech.action.PositionAction" method="list">
			<result name="success" type="tiles">position_list</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="position_add"
			class="com.cubesofttech.action.PositionAction" method="addPosition">
			<result name="success" type="tiles">position_add</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="savePosition"
			class="com.cubesofttech.action.PositionAction" method="savePosition">
			<result name="success" type="tiles">position_list</result>
			<result name="error">/index.jsp</result>
			<result name="input" type="chain">position_add</result>
		</action>

		<action name="position_delete"
			class="com.cubesofttech.action.PositionAction"
			method="deletePosition">
			<result name="success" type="tiles">position_list</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="updatePosition"
			class="com.cubesofttech.action.PositionAction"
			method="PositionUpdate">
			<result name="success" type="tiles">position_list</result>
			<result name="error">/index.jsp</result>
		</action>

		<action name="editPosition"
			class="com.cubesofttech.action.PositionAction" method="PositionEdit">
			<result name="success" type="tiles">position_edit</result>
			<result name="error">/index.jsp</result>
		</action>
		
		<!-- Department -->
		<action name="department_list"
			class="com.cubesofttech.action.DepartmentAction" method="list">
			<result name="success" type="tiles">department_list</result>
		</action>
		<action name="department_add"
			class="com.cubesofttech.action.DepartmentAction" method="addDepart">
			<result name="success" type="tiles">department_add</result>
			<result name="error">/index.jsp</result>
		</action>
		<action name="saveDepart"
			class="com.cubesofttech.action.DepartmentAction" method="saveDepart">
			<result name="success" type="tiles">department_list</result> <!-- type = "chain" เป้นการส่งให้ชื่อ Action นั่นทำงาน -->
			<result name="error">/index.jsp</result>
			<result name="input" type="tiles">department_add</result>
		</action>
		<action name="Department_delete"
			class="com.cubesofttech.action.DepartmentAction"
			method="deleteDepartment">
			<result name="success" type="tiles">department_list</result> <!-- type = "chain" เป้นการส่งให้ชื่อ Action นั่นทำงาน -->
			<result name="error">/index.jsp</result>
		</action>
		<action name="Department_edit"
			class="com.cubesofttech.action.DepartmentAction"
			method="updateDepart">
			<result name="success" type="tiles">department_edit</result> <!-- type = "chain" เป้นการส่งให้ชื่อ Action นั่นทำงาน -->
			<result name="error">/index.jsp</result>
		</action>
		<action name="updateDepart"
			class="com.cubesofttech.action.DepartmentAction" method="editDepart">
			<result name="success" type="tiles">department_list</result> <!-- type = "chain" เป้นการส่งให้ชื่อ Action นั่นทำงาน -->
			<result name="error">/index.jsp</result>
		</action>


	</package>
</struts>